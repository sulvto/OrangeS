
分配公共符号
公共符号            大小              文件

idt_ptr             0x6               kernel/global.o
task_stack          0x28000           kernel/global.o
k_reenter           0x4               kernel/global.o
gdt                 0x400             kernel/global.o
tty_table           0xc30             kernel/global.o
tss                 0x68              kernel/global.o
nr_current_console  0x4               kernel/global.o
disp_pos            0x4               kernel/global.o
gdt_ptr             0x6               kernel/global.o
idt                 0x800             kernel/global.o
TASK                0x28              kernel/start.o
ticks               0x4               kernel/global.o
console_table       0x30              kernel/global.o
irq_table           0x40              kernel/global.o
p_proc_ready        0x4               kernel/global.o
proc_table          0x2f8             kernel/global.o

Discarded input sections

 .note.GNU-stack
                0x0000000000000000        0x0 kernel/start.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/main.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/clock.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/keyboard.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/tty.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/console.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/i8259.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/global.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/protect.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/proc.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/systask.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/printf.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/vsprintf.o
 .note.GNU-stack
                0x0000000000000000        0x0 lib/klib.o
 .note.GNU-stack
                0x0000000000000000        0x0 lib/misc.o

内存配置

名称           来源             长度             属性
*default*        0x0000000000000000 0xffffffffffffffff

Linker script and memory map

Address of section .text set to 0x30400
LOAD kernel/kernel.o
LOAD kernel/syscall.o
LOAD kernel/start.o
LOAD kernel/main.o
LOAD kernel/clock.o
LOAD kernel/keyboard.o
LOAD kernel/tty.o
LOAD kernel/console.o
LOAD kernel/i8259.o
LOAD kernel/global.o
LOAD kernel/protect.o
LOAD kernel/proc.o
LOAD kernel/systask.o
LOAD kernel/printf.o
LOAD kernel/vsprintf.o
LOAD lib/kliba.o
LOAD lib/klib.o
LOAD lib/string.o
LOAD lib/misc.o
                [!provide]                        PROVIDE (__executable_start, 0x8048000)
                0x0000000008048094                . = (0x8048000 + SIZEOF_HEADERS)

.interp
 *(.interp)

.note.gnu.build-id
 *(.note.gnu.build-id)

.hash
 *(.hash)

.gnu.hash
 *(.gnu.hash)

.dynsym
 *(.dynsym)

.dynstr
 *(.dynstr)

.gnu.version
 *(.gnu.version)

.gnu.version_d
 *(.gnu.version_d)

.gnu.version_r
 *(.gnu.version_r)

.rel.dyn        0x0000000008048094        0x0
 *(.rel.init)
 *(.rel.text .rel.text.* .rel.gnu.linkonce.t.*)
 .rel.text      0x0000000008048094        0x0 kernel/kernel.o
 *(.rel.fini)
 *(.rel.rodata .rel.rodata.* .rel.gnu.linkonce.r.*)
 *(.rel.data.rel.ro .rel.data.rel.ro.* .rel.gnu.linkonce.d.rel.ro.*)
 *(.rel.data .rel.data.* .rel.gnu.linkonce.d.*)
 .rel.data      0x0000000008048094        0x0 kernel/kernel.o
 *(.rel.tdata .rel.tdata.* .rel.gnu.linkonce.td.*)
 *(.rel.tbss .rel.tbss.* .rel.gnu.linkonce.tb.*)
 *(.rel.ctors)
 *(.rel.dtors)
 *(.rel.got)
 *(.rel.bss .rel.bss.* .rel.gnu.linkonce.b.*)
 *(.rel.ifunc)

.rel.plt        0x0000000008048094        0x0
 *(.rel.plt)
                [!provide]                        PROVIDE (__rel_iplt_start, .)
 *(.rel.iplt)
 .rel.iplt      0x0000000008048094        0x0 kernel/kernel.o
                [!provide]                        PROVIDE (__rel_iplt_end, .)

.init
 *(SORT(.init))

.plt            0x00000000080480a0        0x0
 *(.plt)
 *(.iplt)
 .iplt          0x00000000080480a0        0x0 kernel/kernel.o

.text           0x0000000000030400     0x36ff
 *(.text.unlikely .text.*_unlikely .text.unlikely.*)
 *(.text.exit .text.exit.*)
 *(.text.startup .text.startup.*)
 *(.text.hot .text.hot.*)
 *(.text .stub .text.* .gnu.linkonce.t.*)
 .text          0x0000000000030400      0x319 kernel/kernel.o
                0x0000000000030400                _start
                0x0000000000030440                hwint00
                0x0000000000030470                hwint01
                0x00000000000304a0                hwint02
                0x00000000000304d0                hwint03
                0x0000000000030500                hwint04
                0x0000000000030530                hwint05
                0x0000000000030560                hwint06
                0x0000000000030590                hwint07
                0x00000000000305c0                hwint08
                0x00000000000305d0                hwint09
                0x00000000000305e0                hwint10
                0x00000000000305f0                hwint11
                0x0000000000030600                hwint12
                0x0000000000030610                hwint13
                0x0000000000030620                hwint14
                0x0000000000030630                hwint15
                0x000000000003063b                divide_error
                0x0000000000030641                single_step_exception
                0x0000000000030647                nmi
                0x000000000003064d                breakpoint_exception
                0x0000000000030653                overflow
                0x0000000000030659                bounds_check
                0x000000000003065f                inval_opcode
                0x0000000000030665                copr_not_available
                0x000000000003066b                double_fault
                0x0000000000030671                copr_seg_overrun
                0x0000000000030677                inval_tss
                0x000000000003067b                segment_not_present
                0x000000000003067f                stack_exception
                0x0000000000030683                general_protection
                0x0000000000030687                page_fault
                0x000000000003068b                copr_error
                0x00000000000306d4                restart
                0x00000000000306f9                sys_call
 *fill*         0x0000000000030719        0x7 
 .text          0x0000000000030720       0x20 kernel/syscall.o
                0x0000000000030720                printx
                0x000000000003072c                sendrec
 .text          0x0000000000030740       0x95 kernel/start.o
                0x0000000000030740                cstart
 .text          0x00000000000307d5      0x325 kernel/main.o
                0x00000000000307d5                kernel_main
                0x00000000000309ee                panic
                0x0000000000030a37                get_ticks
                0x0000000000030a8d                TestA
                0x0000000000030aa2                TestB
                0x0000000000030ace                TestC
 .text          0x0000000000030afa       0xd5 kernel/clock.o
                0x0000000000030afa                init_clock
                0x0000000000030b52                clock_handler
                0x0000000000030b95                milli_delay
 .text          0x0000000000030bcf      0x670 kernel/keyboard.o
                0x0000000000030bcf                keyboard_handler
                0x0000000000030c2f                init_keyboard
                0x0000000000030cd4                keyboard_read
 .text          0x000000000003123f      0x514 kernel/tty.o
                0x000000000003123f                task_tty
                0x00000000000312b7                tty_write
                0x00000000000312fd                sys_write
                0x0000000000031376                in_process
                0x00000000000315bc                sys_printx
 .text          0x0000000000031753      0x445 kernel/console.o
                0x0000000000031753                init_screen
                0x0000000000031871                is_current_console
                0x000000000003188c                out_char
                0x0000000000031ac7                select_console
                0x0000000000031b18                scroll_screen
 .text          0x0000000000031b98      0x130 kernel/i8259.o
                0x0000000000031b98                init_8259A
                0x0000000000031c6d                put_irq_handler
                0x0000000000031c91                spurious_irq
 .text          0x0000000000031cc8        0x0 kernel/global.o
 .text          0x0000000000031cc8      0x5e7 kernel/protect.o
                0x0000000000031cc8                init_prot
                0x00000000000320cf                seg2phys
                0x000000000003218b                exception_handler
 .text          0x00000000000322af     0x11c2 kernel/proc.o
                0x00000000000322af                sys_get_ticks
                0x00000000000322b9                schedule
                0x0000000000032345                sys_sendrec
                0x0000000000032470                send_recv
                0x000000000003255d                ldt_seg_linear
                0x00000000000325a7                va2la
                0x0000000000032608                reset_msg
 .text          0x0000000000033471       0x58 kernel/systask.o
                0x0000000000033471                task_sys
 .text          0x00000000000334c9       0x50 kernel/printf.o
                0x00000000000334c9                printf
 .text          0x0000000000033519      0x2f8 kernel/vsprintf.o
                0x0000000000033577                vsprintf
                0x00000000000337eb                sprintf
 *fill*         0x0000000000033811        0xf 
 .text          0x0000000000033820       0xeb lib/kliba.o
                0x0000000000033820                disp_str
                0x000000000003385e                disp_color_str
                0x000000000003389d                out_byte
                0x00000000000338a9                in_byte
                0x00000000000338b3                disable_irq
                0x00000000000338e8                enable_irq
                0x0000000000033907                disable_int
                0x0000000000033909                enable_int
 .text          0x000000000003390b      0x119 lib/klib.o
                0x000000000003390b                itoa
                0x00000000000339b6                disp_int
                0x00000000000339dd                delay
 *fill*         0x0000000000033a24        0xc 
 .text          0x0000000000033a30       0x78 lib/string.o
                0x0000000000033a30                memcpy
                0x0000000000033a59                memset
                0x0000000000033a7a                strcpy
                0x0000000000033a92                strlen
 .text          0x0000000000033aa8       0x57 lib/misc.o
                0x0000000000033aa8                spin
                0x0000000000033ac3                assertion_failure
 *(.gnu.warning)

.fini
 *(SORT(.fini))
                [!provide]                        PROVIDE (__etext, .)
                [!provide]                        PROVIDE (_etext, .)
                [!provide]                        PROVIDE (etext, .)

.rodata         0x0000000000033b00      0xa40
 *(.rodata .rodata.* .gnu.linkonce.r.*)
 .rodata        0x0000000000033b00       0x4c kernel/start.o
 .rodata        0x0000000000033b4c       0x6a kernel/main.o
 *fill*         0x0000000000033bb6        0x2 
 .rodata        0x0000000000033bb8       0x64 kernel/keyboard.o
 .rodata        0x0000000000033c1c       0x90 kernel/tty.o
 .rodata        0x0000000000033cac       0x11 kernel/i8259.o
 *fill*         0x0000000000033cbd        0x3 
 .rodata        0x0000000000033cc0      0x290 kernel/protect.o
 .rodata        0x0000000000033f50      0x570 kernel/proc.o
 .rodata        0x00000000000344c0       0x11 kernel/systask.o
 *fill*         0x00000000000344d1        0x3 
 .rodata        0x00000000000344d4       0x6c lib/misc.o

.rodata1
 *(.rodata1)

.eh_frame_hdr
 *(.eh_frame_hdr)

.eh_frame       0x0000000000034540      0x814
 *(.eh_frame)
 .eh_frame      0x0000000000034540       0x38 kernel/start.o
 .eh_frame      0x0000000000034578       0xb0 kernel/main.o
                                         0xc8 (size before relaxing)
 .eh_frame      0x0000000000034628       0x60 kernel/clock.o
                                         0x78 (size before relaxing)
 .eh_frame      0x0000000000034688       0xe0 kernel/keyboard.o
                                         0xf8 (size before relaxing)
 .eh_frame      0x0000000000034768      0x11c kernel/tty.o
                                        0x134 (size before relaxing)
 .eh_frame      0x0000000000034884      0x100 kernel/console.o
                                        0x118 (size before relaxing)
 .eh_frame      0x0000000000034984       0x60 kernel/i8259.o
                                         0x78 (size before relaxing)
 .eh_frame      0x00000000000349e4       0xb0 kernel/protect.o
                                         0xc8 (size before relaxing)
 .eh_frame      0x0000000000034a94      0x188 kernel/proc.o
                                        0x1a0 (size before relaxing)
 .eh_frame      0x0000000000034c1c       0x1c kernel/systask.o
                                         0x34 (size before relaxing)
 .eh_frame      0x0000000000034c38       0x20 kernel/printf.o
                                         0x38 (size before relaxing)
 .eh_frame      0x0000000000034c58       0x60 kernel/vsprintf.o
                                         0x78 (size before relaxing)
 .eh_frame      0x0000000000034cb8       0x60 lib/klib.o
                                         0x78 (size before relaxing)
 .eh_frame      0x0000000000034d18       0x3c lib/misc.o
                                         0x54 (size before relaxing)

.gcc_except_table
 *(.gcc_except_table .gcc_except_table.*)

.exception_ranges
 *(.exception_ranges .exception_ranges*)
                0x0000000000034d54                . = (ALIGN (0x1000) - ((0x1000 - .) & 0xfff))
                0x0000000000036000                . = DATA_SEGMENT_ALIGN (0x1000, 0x1000)

.eh_frame
 *(.eh_frame)

.gcc_except_table
 *(.gcc_except_table .gcc_except_table.*)

.exception_ranges
 *(.exception_ranges .exception_ranges*)

.tdata
 *(.tdata .tdata.* .gnu.linkonce.td.*)

.tbss
 *(.tbss .tbss.* .gnu.linkonce.tb.*)
 *(.tcommon)

.preinit_array  0x0000000000036000        0x0
                [!provide]                        PROVIDE (__preinit_array_start, .)
 *(.preinit_array)
                [!provide]                        PROVIDE (__preinit_array_end, .)

.init_array     0x0000000000036000        0x0
                [!provide]                        PROVIDE (__init_array_start, .)
 *(SORT(.init_array.*) SORT(.ctors.*))
 *(.init_array EXCLUDE_FILE(*crtend?.o *crtend.o *crtbegin?.o *crtbegin.o) .ctors)
                [!provide]                        PROVIDE (__init_array_end, .)

.fini_array     0x0000000000036000        0x0
                [!provide]                        PROVIDE (__fini_array_start, .)
 *(SORT(.fini_array.*) SORT(.dtors.*))
 *(.fini_array EXCLUDE_FILE(*crtend?.o *crtend.o *crtbegin?.o *crtbegin.o) .dtors)
                [!provide]                        PROVIDE (__fini_array_end, .)

.ctors
 *crtbegin.o(.ctors)
 *crtbegin?.o(.ctors)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o) .ctors)
 *(SORT(.ctors.*))
 *(.ctors)

.dtors
 *crtbegin.o(.dtors)
 *crtbegin?.o(.dtors)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o) .dtors)
 *(SORT(.dtors.*))
 *(.dtors)

.jcr
 *(.jcr)

.data.rel.ro
 *(.data.rel.ro.local* .gnu.linkonce.d.rel.ro.local.*)
 *(.data.rel.ro .data.rel.ro.* .gnu.linkonce.d.rel.ro.*)

.dynamic
 *(.dynamic)

.got
 *(.got)
 *(.igot)
                0x0000000000036000                . = DATA_SEGMENT_RELRO_END (., (SIZEOF (.got.plt) >= 0xc)?0xc:0x0)

.got.plt        0x0000000000036000        0x0
 *(.got.plt)
 *(.igot.plt)
 .igot.plt      0x0000000000036000        0x0 kernel/kernel.o

.data           0x0000000000036000      0x704
 *(.data .data.* .gnu.linkonce.d.*)
 .data          0x0000000000036000        0x3 kernel/kernel.o
 .data          0x0000000000036003        0x0 kernel/start.o
 .data          0x0000000000036003        0x0 kernel/main.o
 .data          0x0000000000036003        0x0 kernel/clock.o
 *fill*         0x0000000000036003       0x1d 
 .data          0x0000000000036020      0x600 kernel/keyboard.o
                0x0000000000036020                keymap
 .data          0x0000000000036620        0x0 kernel/tty.o
 .data          0x0000000000036620        0x0 kernel/console.o
 .data          0x0000000000036620        0x0 kernel/i8259.o
 .data          0x0000000000036620       0xe4 kernel/global.o
                0x0000000000036620                task_table
                0x0000000000036680                user_proc_table
                0x00000000000366f8                sys_call_table
 .data          0x0000000000036704        0x0 kernel/protect.o
 .data          0x0000000000036704        0x0 kernel/proc.o
 .data          0x0000000000036704        0x0 kernel/systask.o
 .data          0x0000000000036704        0x0 kernel/printf.o
 .data          0x0000000000036704        0x0 kernel/vsprintf.o
 .data          0x0000000000036704        0x0 lib/klib.o
 .data          0x0000000000036704        0x0 lib/misc.o

.data1
 *(.data1)
                0x0000000000036704                _edata = .
                [!provide]                        PROVIDE (edata, .)
                0x0000000000036704                . = .
                0x0000000000036704                __bss_start = .

.bss            0x0000000000036720    0x2a558
 *(.dynbss)
 *(.bss .bss.* .gnu.linkonce.b.*)
 .bss           0x0000000000036720      0x800 kernel/kernel.o
 .bss           0x0000000000036f20        0x0 kernel/start.o
 .bss           0x0000000000036f20        0x0 kernel/main.o
 .bss           0x0000000000036f20        0x0 kernel/clock.o
 .bss           0x0000000000036f20       0x58 kernel/keyboard.o
 .bss           0x0000000000036f78        0x0 kernel/tty.o
 .bss           0x0000000000036f78        0x0 kernel/console.o
 .bss           0x0000000000036f78        0x0 kernel/i8259.o
 .bss           0x0000000000036f78        0x0 kernel/global.o
 .bss           0x0000000000036f78        0x0 kernel/protect.o
 .bss           0x0000000000036f78        0x0 kernel/proc.o
 .bss           0x0000000000036f78        0x0 kernel/systask.o
 .bss           0x0000000000036f78        0x0 kernel/printf.o
 .bss           0x0000000000036f78        0x0 kernel/vsprintf.o
 .bss           0x0000000000036f78        0x0 lib/klib.o
 .bss           0x0000000000036f78        0x0 lib/misc.o
 *(COMMON)
 *fill*         0x0000000000036f78        0x8 
 COMMON         0x0000000000036f80       0x28 kernel/start.o
                0x0000000000036f80                TASK
 *fill*         0x0000000000036fa8       0x18 
 COMMON         0x0000000000036fc0    0x29cb8 kernel/global.o
                0x0000000000036fc0                idt_ptr
                0x0000000000036fe0                task_stack
                0x000000000005efe0                k_reenter
                0x000000000005f000                gdt
                0x000000000005f400                tty_table
                0x0000000000060040                tss
                0x00000000000600a8                nr_current_console
                0x00000000000600ac                disp_pos
                0x00000000000600b0                gdt_ptr
                0x00000000000600c0                idt
                0x00000000000608c0                ticks
                0x00000000000608e0                console_table
                0x0000000000060920                irq_table
                0x0000000000060960                p_proc_ready
                0x0000000000060980                proc_table
                0x0000000000060c78                . = ALIGN ((. != 0x0)?0x4:0x1)
                0x0000000000060c78                . = ALIGN (0x4)
                0x0000000000060c78                . = SEGMENT_START ("ldata-segment", .)
                0x0000000000060c78                . = ALIGN (0x4)
                0x0000000000060c78                _end = .
                [!provide]                        PROVIDE (end, .)
                0x0000000000060c78                . = DATA_SEGMENT_END (.)

.stab
 *(.stab)

.stabstr
 *(.stabstr)

.stab.excl
 *(.stab.excl)

.stab.exclstr
 *(.stab.exclstr)

.stab.index
 *(.stab.index)

.stab.indexstr
 *(.stab.indexstr)

.comment        0x0000000000000000       0x11
 *(.comment)
 .comment       0x0000000000000000       0x11 kernel/start.o
                                         0x12 (size before relaxing)
 .comment       0x0000000000000011       0x12 kernel/main.o
 .comment       0x0000000000000011       0x12 kernel/clock.o
 .comment       0x0000000000000011       0x12 kernel/keyboard.o
 .comment       0x0000000000000011       0x12 kernel/tty.o
 .comment       0x0000000000000011       0x12 kernel/console.o
 .comment       0x0000000000000011       0x12 kernel/i8259.o
 .comment       0x0000000000000011       0x12 kernel/global.o
 .comment       0x0000000000000011       0x12 kernel/protect.o
 .comment       0x0000000000000011       0x12 kernel/proc.o
 .comment       0x0000000000000011       0x12 kernel/systask.o
 .comment       0x0000000000000011       0x12 kernel/printf.o
 .comment       0x0000000000000011       0x12 kernel/vsprintf.o
 .comment       0x0000000000000011       0x12 lib/klib.o
 .comment       0x0000000000000011       0x12 lib/misc.o

.debug
 *(.debug)

.line
 *(.line)

.debug_srcinfo
 *(.debug_srcinfo)

.debug_sfnames
 *(.debug_sfnames)

.debug_aranges
 *(.debug_aranges)

.debug_pubnames
 *(.debug_pubnames)

.debug_info
 *(.debug_info .gnu.linkonce.wi.*)

.debug_abbrev
 *(.debug_abbrev)

.debug_line
 *(.debug_line .debug_line.* .debug_line_end)

.debug_frame
 *(.debug_frame)

.debug_str
 *(.debug_str)

.debug_loc
 *(.debug_loc)

.debug_macinfo
 *(.debug_macinfo)

.debug_weaknames
 *(.debug_weaknames)

.debug_funcnames
 *(.debug_funcnames)

.debug_typenames
 *(.debug_typenames)

.debug_varnames
 *(.debug_varnames)

.debug_pubtypes
 *(.debug_pubtypes)

.debug_ranges
 *(.debug_ranges)

.debug_macro
 *(.debug_macro)

.gnu.attributes
 *(.gnu.attributes)

/DISCARD/
 *(.note.GNU-stack)
 *(.gnu_debuglink)
 *(.gnu.lto_*)
OUTPUT(kernel.bin elf32-i386)
