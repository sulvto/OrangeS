
分配公共符号
公共符号            大小              文件

idt_ptr             0x6               kernel/global.o
task_stack          0x38000           kernel/global.o
k_reenter           0x4               kernel/global.o
gdt                 0x400             kernel/global.o
tty_table           0xc30             kernel/global.o
tss                 0x68              kernel/global.o
nr_current_console  0x4               kernel/global.o
disp_pos            0x4               kernel/global.o
gdt_ptr             0x6               kernel/global.o
idt                 0x800             kernel/global.o
TASK                0x28              kernel/start.o
ticks               0x4               kernel/global.o
console_table       0x30              kernel/global.o
irq_table           0x40              kernel/global.o
p_proc_ready        0x4               kernel/global.o
proc_table          0x428             kernel/global.o

Discarded input sections

 .note.GNU-stack
                0x0000000000000000        0x0 kernel/start.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/main.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/clock.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/keyboard.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/tty.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/console.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/i8259.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/global.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/protect.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/proc.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/systask.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/hd.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/printf.o
 .note.GNU-stack
                0x0000000000000000        0x0 kernel/vsprintf.o
 .note.GNU-stack
                0x0000000000000000        0x0 lib/klib.o
 .note.GNU-stack
                0x0000000000000000        0x0 lib/misc.o
 .note.GNU-stack
                0x0000000000000000        0x0 fs/main.o

内存配置

名称           来源             长度             属性
*default*        0x0000000000000000 0xffffffffffffffff

Linker script and memory map

Address of section .text set to 0x30400
LOAD kernel/kernel.o
LOAD kernel/syscall.o
LOAD kernel/start.o
LOAD kernel/main.o
LOAD kernel/clock.o
LOAD kernel/keyboard.o
LOAD kernel/tty.o
LOAD kernel/console.o
LOAD kernel/i8259.o
LOAD kernel/global.o
LOAD kernel/protect.o
LOAD kernel/proc.o
LOAD kernel/systask.o
LOAD kernel/hd.o
LOAD kernel/printf.o
LOAD kernel/vsprintf.o
LOAD lib/kliba.o
LOAD lib/klib.o
LOAD lib/string.o
LOAD lib/misc.o
LOAD fs/main.o
                [!provide]                        PROVIDE (__executable_start, 0x8048000)
                0x0000000008048094                . = (0x8048000 + SIZEOF_HEADERS)

.interp
 *(.interp)

.note.gnu.build-id
 *(.note.gnu.build-id)

.hash
 *(.hash)

.gnu.hash
 *(.gnu.hash)

.dynsym
 *(.dynsym)

.dynstr
 *(.dynstr)

.gnu.version
 *(.gnu.version)

.gnu.version_d
 *(.gnu.version_d)

.gnu.version_r
 *(.gnu.version_r)

.rel.dyn        0x0000000008048094        0x0
 *(.rel.init)
 *(.rel.text .rel.text.* .rel.gnu.linkonce.t.*)
 .rel.text      0x0000000008048094        0x0 kernel/kernel.o
 *(.rel.fini)
 *(.rel.rodata .rel.rodata.* .rel.gnu.linkonce.r.*)
 *(.rel.data.rel.ro .rel.data.rel.ro.* .rel.gnu.linkonce.d.rel.ro.*)
 *(.rel.data .rel.data.* .rel.gnu.linkonce.d.*)
 .rel.data      0x0000000008048094        0x0 kernel/kernel.o
 *(.rel.tdata .rel.tdata.* .rel.gnu.linkonce.td.*)
 *(.rel.tbss .rel.tbss.* .rel.gnu.linkonce.tb.*)
 *(.rel.ctors)
 *(.rel.dtors)
 *(.rel.got)
 *(.rel.bss .rel.bss.* .rel.gnu.linkonce.b.*)
 *(.rel.ifunc)

.rel.plt        0x0000000008048094        0x0
 *(.rel.plt)
                [!provide]                        PROVIDE (__rel_iplt_start, .)
 *(.rel.iplt)
 .rel.iplt      0x0000000008048094        0x0 kernel/kernel.o
                [!provide]                        PROVIDE (__rel_iplt_end, .)

.init
 *(SORT(.init))

.plt            0x00000000080480a0        0x0
 *(.plt)
 *(.iplt)
 .iplt          0x00000000080480a0        0x0 kernel/kernel.o

.text           0x0000000000030400     0x3c72
 *(.text.unlikely .text.*_unlikely .text.unlikely.*)
 *(.text.exit .text.exit.*)
 *(.text.startup .text.startup.*)
 *(.text.hot .text.hot.*)
 *(.text .stub .text.* .gnu.linkonce.t.*)
 .text          0x0000000000030400      0x412 kernel/kernel.o
                0x0000000000030400                _start
                0x0000000000030440                hwint00
                0x0000000000030470                hwint01
                0x00000000000304a0                hwint02
                0x00000000000304d0                hwint03
                0x0000000000030500                hwint04
                0x0000000000030530                hwint05
                0x0000000000030560                hwint06
                0x0000000000030590                hwint07
                0x00000000000305c0                hwint08
                0x00000000000305f0                hwint09
                0x0000000000030620                hwint10
                0x0000000000030650                hwint11
                0x0000000000030680                hwint12
                0x00000000000306b0                hwint13
                0x00000000000306e0                hwint14
                0x0000000000030710                hwint15
                0x0000000000030734                divide_error
                0x000000000003073a                single_step_exception
                0x0000000000030740                nmi
                0x0000000000030746                breakpoint_exception
                0x000000000003074c                overflow
                0x0000000000030752                bounds_check
                0x0000000000030758                inval_opcode
                0x000000000003075e                copr_not_available
                0x0000000000030764                double_fault
                0x000000000003076a                copr_seg_overrun
                0x0000000000030770                inval_tss
                0x0000000000030774                segment_not_present
                0x0000000000030778                stack_exception
                0x000000000003077c                general_protection
                0x0000000000030780                page_fault
                0x0000000000030784                copr_error
                0x00000000000307cd                restart
                0x00000000000307f2                sys_call
 *fill*         0x0000000000030812        0xe 
 .text          0x0000000000030820       0x20 kernel/syscall.o
                0x0000000000030820                printx
                0x000000000003082c                sendrec
 .text          0x0000000000030840       0x95 kernel/start.o
                0x0000000000030840                cstart
 .text          0x00000000000308d5      0x331 kernel/main.o
                0x00000000000308d5                kernel_main
                0x0000000000030b2c                panic
                0x0000000000030b75                get_ticks
                0x0000000000030ba9                TestA
                0x0000000000030bae                TestB
                0x0000000000030bda                TestC
 .text          0x0000000000030c06       0xd5 kernel/clock.o
                0x0000000000030c06                init_clock
                0x0000000000030c5e                clock_handler
                0x0000000000030ca1                milli_delay
 .text          0x0000000000030cdb      0x670 kernel/keyboard.o
                0x0000000000030cdb                keyboard_handler
                0x0000000000030d3b                init_keyboard
                0x0000000000030de0                keyboard_read
 .text          0x000000000003134b      0x514 kernel/tty.o
                0x000000000003134b                task_tty
                0x00000000000313c3                tty_write
                0x0000000000031409                sys_write
                0x0000000000031482                in_process
                0x00000000000316c8                sys_printx
 .text          0x000000000003185f      0x445 kernel/console.o
                0x000000000003185f                init_screen
                0x000000000003197d                is_current_console
                0x0000000000031998                out_char
                0x0000000000031bd3                select_console
                0x0000000000031c24                scroll_screen
 .text          0x0000000000031ca4      0x130 kernel/i8259.o
                0x0000000000031ca4                init_8259A
                0x0000000000031d79                put_irq_handler
                0x0000000000031d9d                spurious_irq
 .text          0x0000000000031dd4        0x0 kernel/global.o
 .text          0x0000000000031dd4      0x5e7 kernel/protect.o
                0x0000000000031dd4                init_prot
                0x00000000000321db                seg2phys
                0x0000000000032297                exception_handler
 .text          0x00000000000323bb     0x113c kernel/proc.o
                0x00000000000323bb                sys_get_ticks
                0x00000000000323c5                schedule
                0x0000000000032451                sys_sendrec
                0x0000000000032571                send_recv
                0x000000000003262b                ldt_seg_linear
                0x0000000000032675                va2la
                0x00000000000326d6                reset_msg
 .text          0x00000000000334f7       0x58 kernel/systask.o
                0x00000000000334f7                task_sys
 .text          0x000000000003354f      0x48b kernel/hd.o
                0x000000000003354f                task_hd
                0x00000000000339bc                hd_handler
 .text          0x00000000000339da       0x50 kernel/printf.o
                0x00000000000339da                printf
 .text          0x0000000000033a2a      0x2f8 kernel/vsprintf.o
                0x0000000000033a88                vsprintf
                0x0000000000033cfc                sprintf
 *fill*         0x0000000000033d22        0xe 
 .text          0x0000000000033d30      0x111 lib/kliba.o
                0x0000000000033d30                disp_str
                0x0000000000033d6e                disp_color_str
                0x0000000000033dad                out_byte
                0x0000000000033db9                in_byte
                0x0000000000033dc3                disable_irq
                0x0000000000033df8                enable_irq
                0x0000000000033e17                disable_int
                0x0000000000033e19                enable_int
                0x0000000000033e1b                port_read
                0x0000000000033e2e                port_write
 .text          0x0000000000033e41      0x119 lib/klib.o
                0x0000000000033e41                itoa
                0x0000000000033eec                disp_int
                0x0000000000033f13                delay
 *fill*         0x0000000000033f5a        0x6 
 .text          0x0000000000033f60       0x78 lib/string.o
                0x0000000000033f60                memcpy
                0x0000000000033f89                memset
                0x0000000000033faa                strcpy
                0x0000000000033fc2                strlen
 .text          0x0000000000033fd8       0x57 lib/misc.o
                0x0000000000033fd8                spin
                0x0000000000033ff3                assertion_failure
 .text          0x000000000003402f       0x43 fs/main.o
                0x000000000003402f                task_fs
 *(.gnu.warning)

.fini
 *(SORT(.fini))
                [!provide]                        PROVIDE (__etext, .)
                [!provide]                        PROVIDE (_etext, .)
                [!provide]                        PROVIDE (etext, .)

.rodata         0x0000000000034080      0xa6c
 *(.rodata .rodata.* .gnu.linkonce.r.*)
 .rodata        0x0000000000034080       0x4c kernel/start.o
 .rodata        0x00000000000340cc       0x52 kernel/main.o
 *fill*         0x000000000003411e        0x2 
 .rodata        0x0000000000034120       0x64 kernel/keyboard.o
 .rodata        0x0000000000034184       0x90 kernel/tty.o
 .rodata        0x0000000000034214       0x11 kernel/i8259.o
 *fill*         0x0000000000034225       0x1b 
 .rodata        0x0000000000034240      0x290 kernel/protect.o
 .rodata        0x00000000000344d0      0x4e0 kernel/proc.o
 .rodata        0x00000000000349b0       0x11 kernel/systask.o
 *fill*         0x00000000000349c1        0x3 
 .rodata        0x00000000000349c4       0xa7 kernel/hd.o
 *fill*         0x0000000000034a6b        0x1 
 .rodata        0x0000000000034a6c       0x6c lib/misc.o
 .rodata        0x0000000000034ad8       0x14 fs/main.o

.rodata1
 *(.rodata1)

.eh_frame_hdr
 *(.eh_frame_hdr)

.eh_frame       0x0000000000034aec      0x930
 *(.eh_frame)
 .eh_frame      0x0000000000034aec       0x38 kernel/start.o
 .eh_frame      0x0000000000034b24       0xb0 kernel/main.o
                                         0xc8 (size before relaxing)
 .eh_frame      0x0000000000034bd4       0x60 kernel/clock.o
                                         0x78 (size before relaxing)
 .eh_frame      0x0000000000034c34       0xe0 kernel/keyboard.o
                                         0xf8 (size before relaxing)
 .eh_frame      0x0000000000034d14      0x11c kernel/tty.o
                                        0x134 (size before relaxing)
 .eh_frame      0x0000000000034e30      0x100 kernel/console.o
                                        0x118 (size before relaxing)
 .eh_frame      0x0000000000034f30       0x60 kernel/i8259.o
                                         0x78 (size before relaxing)
 .eh_frame      0x0000000000034f90       0xb0 kernel/protect.o
                                         0xc8 (size before relaxing)
 .eh_frame      0x0000000000035040      0x188 kernel/proc.o
                                        0x1a0 (size before relaxing)
 .eh_frame      0x00000000000351c8       0x1c kernel/systask.o
                                         0x34 (size before relaxing)
 .eh_frame      0x00000000000351e4       0xfc kernel/hd.o
                                        0x114 (size before relaxing)
 .eh_frame      0x00000000000352e0       0x20 kernel/printf.o
                                         0x38 (size before relaxing)
 .eh_frame      0x0000000000035300       0x60 kernel/vsprintf.o
                                         0x78 (size before relaxing)
 .eh_frame      0x0000000000035360       0x60 lib/klib.o
                                         0x78 (size before relaxing)
 .eh_frame      0x00000000000353c0       0x3c lib/misc.o
                                         0x54 (size before relaxing)
 .eh_frame      0x00000000000353fc       0x20 fs/main.o
                                         0x38 (size before relaxing)

.gcc_except_table
 *(.gcc_except_table .gcc_except_table.*)

.exception_ranges
 *(.exception_ranges .exception_ranges*)
                0x000000000003541c                . = (ALIGN (0x1000) - ((0x1000 - .) & 0xfff))
                0x0000000000037000                . = DATA_SEGMENT_ALIGN (0x1000, 0x1000)

.eh_frame
 *(.eh_frame)

.gcc_except_table
 *(.gcc_except_table .gcc_except_table.*)

.exception_ranges
 *(.exception_ranges .exception_ranges*)

.tdata
 *(.tdata .tdata.* .gnu.linkonce.td.*)

.tbss
 *(.tbss .tbss.* .gnu.linkonce.tb.*)
 *(.tcommon)

.preinit_array  0x0000000000037000        0x0
                [!provide]                        PROVIDE (__preinit_array_start, .)
 *(.preinit_array)
                [!provide]                        PROVIDE (__preinit_array_end, .)

.init_array     0x0000000000037000        0x0
                [!provide]                        PROVIDE (__init_array_start, .)
 *(SORT(.init_array.*) SORT(.ctors.*))
 *(.init_array EXCLUDE_FILE(*crtend?.o *crtend.o *crtbegin?.o *crtbegin.o) .ctors)
                [!provide]                        PROVIDE (__init_array_end, .)

.fini_array     0x0000000000037000        0x0
                [!provide]                        PROVIDE (__fini_array_start, .)
 *(SORT(.fini_array.*) SORT(.dtors.*))
 *(.fini_array EXCLUDE_FILE(*crtend?.o *crtend.o *crtbegin?.o *crtbegin.o) .dtors)
                [!provide]                        PROVIDE (__fini_array_end, .)

.ctors
 *crtbegin.o(.ctors)
 *crtbegin?.o(.ctors)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o) .ctors)
 *(SORT(.ctors.*))
 *(.ctors)

.dtors
 *crtbegin.o(.dtors)
 *crtbegin?.o(.dtors)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o) .dtors)
 *(SORT(.dtors.*))
 *(.dtors)

.jcr
 *(.jcr)

.data.rel.ro
 *(.data.rel.ro.local* .gnu.linkonce.d.rel.ro.local.*)
 *(.data.rel.ro .data.rel.ro.* .gnu.linkonce.d.rel.ro.*)

.dynamic
 *(.dynamic)

.got
 *(.got)
 *(.igot)
                0x0000000000037000                . = DATA_SEGMENT_RELRO_END (., (SIZEOF (.got.plt) >= 0xc)?0xc:0x0)

.got.plt        0x0000000000037000        0x0
 *(.got.plt)
 *(.igot.plt)
 .igot.plt      0x0000000000037000        0x0 kernel/kernel.o

.data           0x0000000000037000      0x744
 *(.data .data.* .gnu.linkonce.d.*)
 .data          0x0000000000037000        0x3 kernel/kernel.o
 .data          0x0000000000037003        0x0 kernel/start.o
 .data          0x0000000000037003        0x0 kernel/main.o
 .data          0x0000000000037003        0x0 kernel/clock.o
 *fill*         0x0000000000037003       0x1d 
 .data          0x0000000000037020      0x600 kernel/keyboard.o
                0x0000000000037020                keymap
 .data          0x0000000000037620        0x0 kernel/tty.o
 .data          0x0000000000037620        0x0 kernel/console.o
 .data          0x0000000000037620        0x0 kernel/i8259.o
 .data          0x0000000000037620      0x124 kernel/global.o
                0x0000000000037620                task_table
                0x00000000000376c0                user_proc_table
                0x0000000000037738                sys_call_table
 .data          0x0000000000037744        0x0 kernel/protect.o
 .data          0x0000000000037744        0x0 kernel/proc.o
 .data          0x0000000000037744        0x0 kernel/systask.o
 .data          0x0000000000037744        0x0 kernel/hd.o
 .data          0x0000000000037744        0x0 kernel/printf.o
 .data          0x0000000000037744        0x0 kernel/vsprintf.o
 .data          0x0000000000037744        0x0 lib/klib.o
 .data          0x0000000000037744        0x0 lib/misc.o
 .data          0x0000000000037744        0x0 fs/main.o

.data1
 *(.data1)
                0x0000000000037744                _edata = .
                [!provide]                        PROVIDE (edata, .)
                0x0000000000037744                . = .
                0x0000000000037744                __bss_start = .

.bss            0x0000000000037760    0x3aaa8
 *(.dynbss)
 *(.bss .bss.* .gnu.linkonce.b.*)
 .bss           0x0000000000037760      0x800 kernel/kernel.o
 .bss           0x0000000000037f60        0x0 kernel/start.o
 .bss           0x0000000000037f60        0x0 kernel/main.o
 .bss           0x0000000000037f60        0x0 kernel/clock.o
 .bss           0x0000000000037f60       0x58 kernel/keyboard.o
 .bss           0x0000000000037fb8        0x0 kernel/tty.o
 .bss           0x0000000000037fb8        0x0 kernel/console.o
 .bss           0x0000000000037fb8        0x0 kernel/i8259.o
 .bss           0x0000000000037fb8        0x0 kernel/global.o
 .bss           0x0000000000037fb8        0x0 kernel/protect.o
 .bss           0x0000000000037fb8        0x0 kernel/proc.o
 .bss           0x0000000000037fb8        0x0 kernel/systask.o
 *fill*         0x0000000000037fb8        0x8 
 .bss           0x0000000000037fc0      0x420 kernel/hd.o
 .bss           0x00000000000383e0        0x0 kernel/printf.o
 .bss           0x00000000000383e0        0x0 kernel/vsprintf.o
 .bss           0x00000000000383e0        0x0 lib/klib.o
 .bss           0x00000000000383e0        0x0 lib/misc.o
 .bss           0x00000000000383e0        0x0 fs/main.o
 *(COMMON)
 COMMON         0x00000000000383e0       0x28 kernel/start.o
                0x00000000000383e0                TASK
 *fill*         0x0000000000038408       0x18 
 COMMON         0x0000000000038420    0x39de8 kernel/global.o
                0x0000000000038420                idt_ptr
                0x0000000000038440                task_stack
                0x0000000000070440                k_reenter
                0x0000000000070460                gdt
                0x0000000000070860                tty_table
                0x00000000000714a0                tss
                0x0000000000071508                nr_current_console
                0x000000000007150c                disp_pos
                0x0000000000071510                gdt_ptr
                0x0000000000071520                idt
                0x0000000000071d20                ticks
                0x0000000000071d40                console_table
                0x0000000000071d80                irq_table
                0x0000000000071dc0                p_proc_ready
                0x0000000000071de0                proc_table
                0x0000000000072208                . = ALIGN ((. != 0x0)?0x4:0x1)
                0x0000000000072208                . = ALIGN (0x4)
                0x0000000000072208                . = SEGMENT_START ("ldata-segment", .)
                0x0000000000072208                . = ALIGN (0x4)
                0x0000000000072208                _end = .
                [!provide]                        PROVIDE (end, .)
                0x0000000000072208                . = DATA_SEGMENT_END (.)

.stab
 *(.stab)

.stabstr
 *(.stabstr)

.stab.excl
 *(.stab.excl)

.stab.exclstr
 *(.stab.exclstr)

.stab.index
 *(.stab.index)

.stab.indexstr
 *(.stab.indexstr)

.comment        0x0000000000000000       0x11
 *(.comment)
 .comment       0x0000000000000000       0x11 kernel/start.o
                                         0x12 (size before relaxing)
 .comment       0x0000000000000011       0x12 kernel/main.o
 .comment       0x0000000000000011       0x12 kernel/clock.o
 .comment       0x0000000000000011       0x12 kernel/keyboard.o
 .comment       0x0000000000000011       0x12 kernel/tty.o
 .comment       0x0000000000000011       0x12 kernel/console.o
 .comment       0x0000000000000011       0x12 kernel/i8259.o
 .comment       0x0000000000000011       0x12 kernel/global.o
 .comment       0x0000000000000011       0x12 kernel/protect.o
 .comment       0x0000000000000011       0x12 kernel/proc.o
 .comment       0x0000000000000011       0x12 kernel/systask.o
 .comment       0x0000000000000011       0x12 kernel/hd.o
 .comment       0x0000000000000011       0x12 kernel/printf.o
 .comment       0x0000000000000011       0x12 kernel/vsprintf.o
 .comment       0x0000000000000011       0x12 lib/klib.o
 .comment       0x0000000000000011       0x12 lib/misc.o
 .comment       0x0000000000000011       0x12 fs/main.o

.debug
 *(.debug)

.line
 *(.line)

.debug_srcinfo
 *(.debug_srcinfo)

.debug_sfnames
 *(.debug_sfnames)

.debug_aranges
 *(.debug_aranges)

.debug_pubnames
 *(.debug_pubnames)

.debug_info
 *(.debug_info .gnu.linkonce.wi.*)

.debug_abbrev
 *(.debug_abbrev)

.debug_line
 *(.debug_line .debug_line.* .debug_line_end)

.debug_frame
 *(.debug_frame)

.debug_str
 *(.debug_str)

.debug_loc
 *(.debug_loc)

.debug_macinfo
 *(.debug_macinfo)

.debug_weaknames
 *(.debug_weaknames)

.debug_funcnames
 *(.debug_funcnames)

.debug_typenames
 *(.debug_typenames)

.debug_varnames
 *(.debug_varnames)

.debug_pubtypes
 *(.debug_pubtypes)

.debug_ranges
 *(.debug_ranges)

.debug_macro
 *(.debug_macro)

.gnu.attributes
 *(.gnu.attributes)

/DISCARD/
 *(.note.GNU-stack)
 *(.gnu_debuglink)
 *(.gnu.lto_*)
OUTPUT(kernel.bin elf32-i386)
